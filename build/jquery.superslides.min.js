// Generated by CoffeeScript 1.3.3
/*
  Superslides 0.4
  Fullscreen slideshow plugin for jQuery
  by Nic Aitch @nicinabox
  http://nicinabox.github.com/superslides/
*/(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S;i=$(window),S=i.width(),c=i.height(),h=navigator.userAgent.match(/mobile/i),f=0,v=0,y=0,l=!0,g=0,a=!1,b=0,d=3,n="",t="",r="",e="",p=function(e,t){return $("<img />").attr("src",e.attr("src")).load(function(){return typeof t=="function"&&t(this),this})},s=function(e){(!e.data("original-height")||!e.data("original-width"))&&p(e,function(t){return e.data("original-height",t.height).removeAttr("height"),e.data("original-width",t.width).removeAttr("width"),s(e)}),c<e.data("original-height")&&e.css({top:-(e.data("original-height")-c)/2}),S<e.data("original-width")?e.css({left:-(e.data("original-width")-S)/2}):e.css({left:0});if(e.data("original-height")&&e.data("original-width"))return t.trigger("slides.image_adjusted")},o=function(e){return e.each(function(e){return $(this).width(S).height(c),b>1&&$(this).css({left:S}),s($("img",this))}),t.trigger("slides.sized")},w=function(){if(b>1)return u(l?0:"next"),m()},E=function(){return clearInterval(g)},m=function(){if($.fn.superslides.options.play)return g&&E(),g=setInterval(function(){return u(l?0:"next")},$.fn.superslides.options.delay)},u=function(r){var i;if(!(a||r>=b)){y=f,a=!0;switch(r){case"next":i=S*2,r=-i,v=f+1,b===v&&(v=0);break;case"prev":i=0,r=0,v=f-1,v===-1&&(v=b-1);break;default:v=+r,v>y?(i=S*2,r=-i):(i=r=0,y=-1)}return f=v,e.removeClass("current"),e.eq(f).css({left:i,display:"block"}),n.animate({useTranslate3d:h?!0:!1,left:r},$.fn.superslides.options.slide_speed,$.fn.superslides.options.slide_easing,function(){return n.css({left:-S}),e.css({zIndex:0}),e.eq(v).css({left:S,zIndex:2}),e.eq(y).css({left:S,display:"none",zIndex:0}),e.eq(f).addClass("current"),l&&(t.fadeIn("fast"),t.trigger("slides.initialized"),l=!1),a=!1,t.trigger("slides.animated")})}},$.fn.superslides=function(s){var a,f,l;return typeof s=="string"?(a=$.fn.superslides.api,l=s,f=Array.prototype.slice.call(arguments),f.splice(0,1),a[l].call(this,f.join(", "))):(s=$.fn.superslides.options=$.extend($.fn.superslides.options,s),$("."+s.container_class,this).wrap('<div class="slides-control" />'),n=$(".slides-control",this),t=$("."+s.container_class),r=$("."+s.nav_class),e=t.children(),b=e.length,d=b===1?1:3,this.each(function(){return n.css({position:"relative"}),b>1&&(n.css({width:S*d,height:c,left:-S}),t.hide(),e.css({display:"none",position:"absolute",overflow:"hidden",top:0,left:S,zIndex:0})),o(e),$(window).resize(function(t){S=i.width(),c=i.height(),o(e),n.width(S*d).css({height:c});if(b>1)return n.css({left:-S})}),$("a",r).click(function(e){return e.preventDefault(),E(),$(this).hasClass("next")?u("next"):u("prev")}),w()}))},$.fn.superslides.options={delay:5e3,play:!1,slide_speed:"normal",slide_easing:"linear",nav_class:"slides-navigation",container_class:"slides-container"},$.fn.superslides.api={start:function(){return w()},stop:function(){return E()},play:function(){return m()},animate:function(e){return E(),u(e)},next:function(){return u("next")},prev:function(){return u("prev")}}}).call(this);